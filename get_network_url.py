#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
"""

import socket
import platform

def get_local_ip():
    """–ü–æ–ª—É—á–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å"""
    try:
        # –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è IP
        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
        s.connect(("8.8.8.8", 80))
        local_ip = s.getsockname()[0]
        s.close()
        return local_ip
    except Exception:
        return "127.0.0.1"

def get_all_ips():
    """–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ IP –∞–¥—Ä–µ—Å–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞"""
    hostname = socket.gethostname()
    try:
        # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ IP –∞–¥—Ä–µ—Å–∞
        ips = socket.gethostbyname_ex(hostname)[2]
        # –§–∏–ª—å—Ç—Ä—É–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –∞–¥—Ä–µ—Å–∞
        return [ip for ip in ips if not ip.startswith("127.")]
    except:
        return []

def main():
    print("=" * 60)
    print("üåê –°–ï–¢–ï–í–´–ï –ê–î–†–ï–°–ê –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–ò")
    print("=" * 60)
    print()
    
    # –ò–º—è –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
    hostname = socket.gethostname()
    print(f"üíª –ò–º—è –∫–æ–º–ø—å—é—Ç–µ—Ä–∞: {hostname}")
    print(f"üñ•Ô∏è  –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: {platform.system()}")
    print()
    
    # –û—Å–Ω–æ–≤–Ω–æ–π IP
    local_ip = get_local_ip()
    print("üìç –û–°–ù–û–í–ù–û–ô –ê–î–†–ï–° (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç):")
    print(f"   http://{local_ip}:3000")
    print()
    
    # –í—Å–µ IP –∞–¥—Ä–µ—Å–∞
    all_ips = get_all_ips()
    if all_ips:
        print("üìã –í–°–ï –î–û–°–¢–£–ü–ù–´–ï –ê–î–†–ï–°–ê:")
        for ip in all_ips:
            print(f"   http://{ip}:3000")
        print()
    
    # –õ–æ–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å
    print("üè† –õ–û–ö–ê–õ–¨–ù–´–ô –ê–î–†–ï–° (—Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ):")
    print("   http://localhost:3000")
    print("   http://127.0.0.1:3000")
    print()
    
    print("=" * 60)
    print("üì± –ö–ê–ö –ü–û–î–ö–õ–Æ–ß–ò–¢–¨–°–Ø –° –î–†–£–ì–û–ì–û –ö–û–ú–ü–¨–Æ–¢–ï–†–ê:")
    print("=" * 60)
    print()
    print("1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–±–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ (Wi-Fi/LAN)")
    print("2. –ù–∞ –¥—Ä—É–≥–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä")
    print(f"3. –í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å: http://{local_ip}:3000")
    print("4. –í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω: botadmin")
    print("5. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: TgBot2026!")
    print()
    
    print("=" * 60)
    print("üî• FIREWALL (–ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä Windows)")
    print("=" * 60)
    print()
    print("–ï—Å–ª–∏ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø–∞, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –ø–æ—Ä—Ç 3000:")
    print()
    print("–°–ø–æ—Å–æ–± 1 - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞):")
    print('   netsh advfirewall firewall add rule name="Telegram Bot Admin" dir=in action=allow protocol=TCP localport=3000')
    print()
    print("–°–ø–æ—Å–æ–± 2 - –í—Ä—É—á–Ω—É—é:")
    print("   1. –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä Windows")
    print("   2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã")
    print("   3. –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π ‚Üí –°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ")
    print("   4. –¢–∏–ø: –î–ª—è –ø–æ—Ä—Ç–∞ ‚Üí TCP ‚Üí 3000")
    print("   5. –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ")
    print()
    
    print("=" * 60)
    print("‚úÖ –ë–û–¢ –ì–û–¢–û–í –ö –†–ê–ë–û–¢–ï!")
    print("=" * 60)
    print()
    print(f"üåê –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ: http://{local_ip}:3000")
    print("üîê –õ–æ–≥–∏–Ω: botadmin")
    print("üîë –ü–∞—Ä–æ–ª—å: TgBot2026!")
    print()

if __name__ == "__main__":
    main()